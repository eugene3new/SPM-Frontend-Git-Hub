import { FC } from "react";
import { Dropdown as RBDropdown } from "react-bootstrap";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faEllipsisV } from "@fortawesome/free-solid-svg-icons";
import { ListItem } from "./listItem";
import styled from "styled-components";

export interface DropdownProps {
  label: string;
  color?:
    | "primary"
    | "secondary"
    | "success"
    | "info"
    | "warning"
    | "danger"
    | "transparent";
  type: "square" | "round" | "ellipsis";
  listItems: ListItem[];
}

export const Dropdown: FC<DropdownProps> = ({
  label,
  color,
  listItems,
  type,
}: DropdownProps) => {
  return (
    <RBDropdown className="cora-dropdown">
      <RBDropdown.Toggle
        id="dropdown-basic"
        className={`btn btn-${color} ${type}`}
        variant={color}
      >
        {type === "ellipsis" ? <FontAwesomeIcon icon={faEllipsisV} /> : label}
      </RBDropdown.Toggle>

      <RBDropdown.Menu>
        {listItems.map((item, index) => {
          return (
            <>
              <RBDropdown.Item key={index} onClick={item.onClick}>
                {item.text}
              </RBDropdown.Item>
            </>
          );
        })}
      </RBDropdown.Menu>
    </RBDropdown>
  );
};

export default Dropdown;
